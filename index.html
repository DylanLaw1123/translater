<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>摩斯密码翻译器</title>
  <style>
    body {
      font-family: "Microsoft YaHei", "Noto Sans SC", sans-serif;
      background-color: #f8f9fa;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #ffffff;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 20px 0;
      text-align: center;
      font-size: 1.8rem;
      font-weight: bold;
      color: #333;
    }

    main {
      max-width: 800px;
      margin: 30px auto;
      background: #fff;
      padding: 20px 30px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    p {
      color: #555;
      font-size: 1rem;
    }

    textarea {
      width: 100%;
      height: 120px;
      font-size: 1rem;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
      resize: none;
      outline: none;
    }

    textarea:focus {
      border-color: #4f46e5;
      box-shadow: 0 0 5px rgba(79,70,229,0.3);
    }

    .btn-container {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    button {
      flex: 1;
      background-color: #22c55e;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 10px;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #16a34a;
    }

    footer {
      text-align: center;
      margin-top: 30px;
      color: #666;
      font-size: 0.9rem;
    }

    .copy-btn {
      background-color: #4f46e5;
    }

    .copy-btn:hover {
      background-color: #4338ca;
    }

    .copied {
      color: #10b981;
      font-size: 0.9rem;
      margin-top: 6px;
      display: none;
      text-align: center;
    }
  </style>
</head>
<body>
  <header>摩斯密码翻译器</header>
  <main>
    <p>支持中文与英文，例如：I LOVE YOU 我爱你</p>
    <textarea id="inputText" placeholder="请输入文字或摩斯密码..."></textarea>

    <div class="btn-container">
      <button id="toMorseBtn">文字转摩斯密码 ↓</button>
      <button id="toTextBtn">摩斯密码转文字 ↑</button>
    </div>

    <p>输出结果：</p>
    <textarea id="outputText" readonly placeholder="翻译结果将显示在这里"></textarea>

    <div class="btn-container">
      <button class="copy-btn" id="copyBtn">复制结果</button>
    </div>
    <div id="copiedMsg" class="copied">已复制！</div>
  </main>
  <footer>Made by Dylan Law</footer>

  <script>
    const morseCode = {
      'A': '.-', 'B': '-...', 'C': '-.-.', 'D': '-..',
      'E': '.', 'F': '..-.', 'G': '--.', 'H': '....',
      'I': '..', 'J': '.---', 'K': '-.-', 'L': '.-..',
      'M': '--', 'N': '-.', 'O': '---', 'P': '.--.',
      'Q': '--.-', 'R': '.-.', 'S': '...', 'T': '-',
      'U': '..-', 'V': '...-', 'W': '.--', 'X': '-..-',
      'Y': '-.--', 'Z': '--..',
      '0': '-----', '1': '.----', '2': '..---', '3': '...--', 
      '4': '....-', '5': '.....', '6': '-....', '7': '--...', 
      '8': '---..', '9': '----.',
      ' ': '/', '，': '--..--', '。': '.-.-.-', '？': '..--..'
    };

    const reverseMorse = Object.fromEntries(Object.entries(morseCode).map(([k, v]) => [v, k]));

    function textToMorse(text) {
      return text.toUpperCase().split('').map(char => morseCode[char] || '?').join(' ');
    }

    function morseToText(morse) {
      return morse.trim().split(' ').map(code => reverseMorse[code] || '?').join('');
    }

    document.getElementById('toMorseBtn').onclick = function() {
      const input = document.getElementById('inputText').value;
      document.getElementById('outputText').value = textToMorse(input);
    };

    document.getElementById('toTextBtn').onclick = function() {
      const input = document.getElementById('inputText').value.replace(/·/g, '.').replace(/—/g, '-');
      document.getElementById('outputText').value = morseToText(input);
    };

    document.getElementById('copyBtn').onclick = function() {
      const output = document.getElementById('outputText');
      navigator.clipboard.writeText(output.value);
      const msg = document.getElementById('copiedMsg');
      msg.style.display = 'block';
      setTimeout(() => msg.style.display = 'none', 2000);
    };
  </script>
</body>
</html>
